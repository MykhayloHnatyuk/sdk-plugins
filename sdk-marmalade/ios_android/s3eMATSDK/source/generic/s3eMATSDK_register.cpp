/*
 * WARNING: this is an autogenerated file and will be overwritten by
 * the extension interface script.
 */
/*
 * This file contains the automatically generated loader-side
 * functions that form part of the extension.
 *
 * This file is awlays compiled into all loaders but compiles
 * to nothing if this extension is not enabled in the loader
 * at build time.
 */
#include "IwDebug.h"
#include "s3eMATSDK_autodefs.h"
#include "s3eEdk.h"
#include "s3eMATSDK.h"
//Declarations of Init and Term functions
extern s3eResult s3eMATSDKInit();
extern void s3eMATSDKTerminate();


// On platforms that use a seperate UI/OS thread we can autowrap functions
// here.   Note that we can't use the S3E_USE_OS_THREAD define since this
// code is oftern build standalone, outside the main loader build.
#if defined I3D_OS_IPHONE || defined I3D_OS_OSX || defined I3D_OS_LINUX || defined I3D_OS_WINDOWS

static void MATStartMobileAppTracker_wrap(const char* adId, const char* convKey)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATStartMobileAppTracker"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATStartMobileAppTracker, 2, adId, convKey);
}

static void MATTrackInstall_wrap()
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackInstall"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackInstall, 0);
}

static void MATTrackUpdate_wrap()
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackUpdate"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackUpdate, 0);
}

static void MATTrackInstallWithReferenceId_wrap(const char* refId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackInstallWithReferenceId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackInstallWithReferenceId, 1, refId);
}

static void MATTrackActionForEventIdOrName_wrap(const char* eventIdOrName, bool isId, const char* refId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackActionForEventIdOrName"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackActionForEventIdOrName, 3, eventIdOrName, isId, refId);
}

static void MATTrackActionForEventIdOrNameItems_wrap(const char* eventIdOrName, bool isId, const MATArray* items, const char* refId, const char* revenueAmount, const char* currencyCode, uint8 transactionState, const char* receipt, const char* receiptSignature)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackActionForEventIdOrNameItems"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackActionForEventIdOrNameItems, 9, eventIdOrName, isId, items, refId, revenueAmount, currencyCode, transactionState, receipt, receiptSignature);
}

static void MATTrackAction_wrap(const char* eventIdOrName, bool isId, const char* revenue, const char* currency)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATTrackAction"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATTrackAction, 4, eventIdOrName, isId, revenue, currency);
}

static void MATSetPackageName_wrap(const char* packageName)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetPackageName"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetPackageName, 1, packageName);
}

static void MATSetCurrencyCode_wrap(const char* currencyCode)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetCurrencyCode"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetCurrencyCode, 1, currencyCode);
}

static void MATSetOpenUDID_wrap(const char* openUDID)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetOpenUDID"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetOpenUDID, 1, openUDID);
}

static void MATSetUIID_wrap(const char* uiid)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetUIID"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetUIID, 1, uiid);
}

static void MATSetUserId_wrap(const char* userId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetUserId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetUserId, 1, userId);
}

static void MATSetFacebookUserId_wrap(const char* userFacebookId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetFacebookUserId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetFacebookUserId, 1, userFacebookId);
}

static void MATSetTwitterUserId_wrap(const char* userTwitterId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetTwitterUserId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetTwitterUserId, 1, userTwitterId);
}

static void MATSetGoogleUserId_wrap(const char* userGoogleId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetGoogleUserId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetGoogleUserId, 1, userGoogleId);
}

static void MATSetRevenue_wrap(const char* revenue)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetRevenue"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetRevenue, 1, revenue);
}

static void MATSetSiteId_wrap(const char* siteId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetSiteId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetSiteId, 1, siteId);
}

static void MATSetTRUSTeId_wrap(const char* tpid)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetTRUSTeId"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetTRUSTeId, 1, tpid);
}

static void MATSetAppAdTracking_wrap(bool enable)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetAppAdTracking"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetAppAdTracking, 1, enable);
}

static void MATSetDelegate_wrap(bool enable)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetDelegate"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetDelegate, 1, enable);
}

static void MATSetJailbroken_wrap(bool isJailbroken)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetJailbroken"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetJailbroken, 1, isJailbroken);
}

static void MATSetShouldAutoDetectJailbroken_wrap(bool shouldAutoDetect)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetShouldAutoDetectJailbroken"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetShouldAutoDetectJailbroken, 1, shouldAutoDetect);
}

static void MATSetMACAddress_wrap(const char* mac)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetMACAddress"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetMACAddress, 1, mac);
}

static void MATSetODIN1_wrap(const char* odin1)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetODIN1"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetODIN1, 1, odin1);
}

static void MATSetUseCookieTracking_wrap(bool useCookieTracking)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetUseCookieTracking"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetUseCookieTracking, 1, useCookieTracking);
}

static void MATSetAge_wrap(int age)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetAge"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetAge, 1, age);
}

static void MATSetGender_wrap(int gender)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetGender"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetGender, 1, gender);
}

static void MATSetLocation_wrap(const char* latitude, const char* longitude, const char* altitude)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetLocation"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetLocation, 3, latitude, longitude, altitude);
}

static void MATStartAppToAppTracking_wrap(const char* targetAppId, const char* advertiserId, const char* offerId, const char* publisherId, bool shouldRedirect)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATStartAppToAppTracking"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATStartAppToAppTracking, 5, targetAppId, advertiserId, offerId, publisherId, shouldRedirect);
}

static void MATSetRedirectUrl_wrap(const char* redirectUrl)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetRedirectUrl"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetRedirectUrl, 1, redirectUrl);
}

static void MATSetAppleAdvertisingIdentifier_wrap(const char* advertiserId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetAppleAdvertisingIdentifier"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetAppleAdvertisingIdentifier, 1, advertiserId);
}

static void MATSetAppleVendorIdentifier_wrap(const char* vendorId)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetAppleVendorIdentifier"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetAppleVendorIdentifier, 1, vendorId);
}

static void MATSetShouldAutoGenerateAppleVendorIdentifier_wrap(bool shouldAutoGenerate)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetShouldAutoGenerateAppleVendorIdentifier"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetShouldAutoGenerateAppleVendorIdentifier, 1, shouldAutoGenerate);
}

static void MATSetShouldAutoGenerateAppleAdvertisingIdentifier_wrap(bool shouldAutoGenerate)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetShouldAutoGenerateAppleAdvertisingIdentifier"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetShouldAutoGenerateAppleAdvertisingIdentifier, 1, shouldAutoGenerate);
}

static void MATSDKParameters_wrap()
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSDKParameters"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSDKParameters, 0);
}

static void MATSetDebugMode_wrap(bool shouldDebug)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetDebugMode"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetDebugMode, 1, shouldDebug);
}

static void MATSetAllowDuplicates_wrap(bool allowDuplicates)
{
    IwTrace(MATSDK_VERBOSE, ("calling s3eMATSDK func on main thread: MATSetAllowDuplicates"));
    s3eEdkThreadRunOnOS((s3eEdkThreadFunc)MATSetAllowDuplicates, 1, allowDuplicates);
}

#define MATStartMobileAppTracker MATStartMobileAppTracker_wrap
#define MATTrackInstall MATTrackInstall_wrap
#define MATTrackUpdate MATTrackUpdate_wrap
#define MATTrackInstallWithReferenceId MATTrackInstallWithReferenceId_wrap
#define MATTrackActionForEventIdOrName MATTrackActionForEventIdOrName_wrap
#define MATTrackActionForEventIdOrNameItems MATTrackActionForEventIdOrNameItems_wrap
#define MATTrackAction MATTrackAction_wrap
#define MATSetPackageName MATSetPackageName_wrap
#define MATSetCurrencyCode MATSetCurrencyCode_wrap
#define MATSetOpenUDID MATSetOpenUDID_wrap
#define MATSetUIID MATSetUIID_wrap
#define MATSetUserId MATSetUserId_wrap
#define MATSetFacebookUserId MATSetFacebookUserId_wrap
#define MATSetTwitterUserId MATSetTwitterUserId_wrap
#define MATSetGoogleUserId MATSetGoogleUserId_wrap
#define MATSetRevenue MATSetRevenue_wrap
#define MATSetSiteId MATSetSiteId_wrap
#define MATSetTRUSTeId MATSetTRUSTeId_wrap
#define MATSetAppAdTracking MATSetAppAdTracking_wrap
#define MATSetDelegate MATSetDelegate_wrap
#define MATSetJailbroken MATSetJailbroken_wrap
#define MATSetShouldAutoDetectJailbroken MATSetShouldAutoDetectJailbroken_wrap
#define MATSetMACAddress MATSetMACAddress_wrap
#define MATSetODIN1 MATSetODIN1_wrap
#define MATSetUseCookieTracking MATSetUseCookieTracking_wrap
#define MATSetAge MATSetAge_wrap
#define MATSetGender MATSetGender_wrap
#define MATSetLocation MATSetLocation_wrap
#define MATStartAppToAppTracking MATStartAppToAppTracking_wrap
#define MATSetRedirectUrl MATSetRedirectUrl_wrap
#define MATSetAppleAdvertisingIdentifier MATSetAppleAdvertisingIdentifier_wrap
#define MATSetAppleVendorIdentifier MATSetAppleVendorIdentifier_wrap
#define MATSetShouldAutoGenerateAppleVendorIdentifier MATSetShouldAutoGenerateAppleVendorIdentifier_wrap
#define MATSetShouldAutoGenerateAppleAdvertisingIdentifier MATSetShouldAutoGenerateAppleAdvertisingIdentifier_wrap
#define MATSDKParameters MATSDKParameters_wrap
#define MATSetDebugMode MATSetDebugMode_wrap
#define MATSetAllowDuplicates MATSetAllowDuplicates_wrap

#endif

void s3eMATSDKRegisterExt()
{
    /* fill in the function pointer struct for this extension */
    void* funcPtrs[37];
    funcPtrs[0] = (void*)MATStartMobileAppTracker;
    funcPtrs[1] = (void*)MATTrackInstall;
    funcPtrs[2] = (void*)MATTrackUpdate;
    funcPtrs[3] = (void*)MATTrackInstallWithReferenceId;
    funcPtrs[4] = (void*)MATTrackActionForEventIdOrName;
    funcPtrs[5] = (void*)MATTrackActionForEventIdOrNameItems;
    funcPtrs[6] = (void*)MATTrackAction;
    funcPtrs[7] = (void*)MATSetPackageName;
    funcPtrs[8] = (void*)MATSetCurrencyCode;
    funcPtrs[9] = (void*)MATSetOpenUDID;
    funcPtrs[10] = (void*)MATSetUIID;
    funcPtrs[11] = (void*)MATSetUserId;
    funcPtrs[12] = (void*)MATSetFacebookUserId;
    funcPtrs[13] = (void*)MATSetTwitterUserId;
    funcPtrs[14] = (void*)MATSetGoogleUserId;
    funcPtrs[15] = (void*)MATSetRevenue;
    funcPtrs[16] = (void*)MATSetSiteId;
    funcPtrs[17] = (void*)MATSetTRUSTeId;
    funcPtrs[18] = (void*)MATSetAppAdTracking;
    funcPtrs[19] = (void*)MATSetDelegate;
    funcPtrs[20] = (void*)MATSetJailbroken;
    funcPtrs[21] = (void*)MATSetShouldAutoDetectJailbroken;
    funcPtrs[22] = (void*)MATSetMACAddress;
    funcPtrs[23] = (void*)MATSetODIN1;
    funcPtrs[24] = (void*)MATSetUseCookieTracking;
    funcPtrs[25] = (void*)MATSetAge;
    funcPtrs[26] = (void*)MATSetGender;
    funcPtrs[27] = (void*)MATSetLocation;
    funcPtrs[28] = (void*)MATStartAppToAppTracking;
    funcPtrs[29] = (void*)MATSetRedirectUrl;
    funcPtrs[30] = (void*)MATSetAppleAdvertisingIdentifier;
    funcPtrs[31] = (void*)MATSetAppleVendorIdentifier;
    funcPtrs[32] = (void*)MATSetShouldAutoGenerateAppleVendorIdentifier;
    funcPtrs[33] = (void*)MATSetShouldAutoGenerateAppleAdvertisingIdentifier;
    funcPtrs[34] = (void*)MATSDKParameters;
    funcPtrs[35] = (void*)MATSetDebugMode;
    funcPtrs[36] = (void*)MATSetAllowDuplicates;

    /*
     * Flags that specify the extension's use of locking and stackswitching
     */
    int flags[37] = { 0 };

    /*
     * Register the extension
     */
    s3eEdkRegister("s3eMATSDK", funcPtrs, sizeof(funcPtrs), flags, s3eMATSDKInit, s3eMATSDKTerminate, 0);
}

#if !defined S3E_BUILD_S3ELOADER

#if defined S3E_EDK_USE_STATIC_INIT_ARRAY
int s3eMATSDKStaticInit()
{
    void** p = g_StaticInitArray;
    void* end = p + g_StaticArrayLen;
    while (*p) p++;
    if (p < end)
        *p = (void*)&s3eMATSDKRegisterExt;
    return 0;
}

int g_s3eMATSDKVal = s3eMATSDKStaticInit();

#elif defined S3E_EDK_USE_DLLS
S3E_EXTERN_C S3E_DLL_EXPORT void RegisterExt()
{
    s3eMATSDKRegisterExt();
}
#endif

#endif
